(()=>{"use strict";const e=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},t=()=>{document.querySelector(".form-bg").remove()},n=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},c=(c,r,o)=>{const s=document.querySelector(".project-list");e(s),c.forEach((t=>{const n=document.createElement("div");n.setAttribute("class","project-name-container");const c=document.createElement("li");c.setAttribute("class","project-name"),c.setAttribute("id",""+t.id),c.innerText=t.name,t.id===o&&(c.classList.add("active-project"),(t=>{document.querySelector(".project-title").innerText=""+t.name;const n=document.querySelector(".to-dos");e(n);const c=document.createElement("i");c.setAttribute("class","fa fa-plus-circle");const r=document.createElement("div");r.setAttribute("class","create-to-do");const o=document.createElement("p");o.innerText="Add an item",r.append(c,o),n.append(r),console.log(r)})(t));const r=document.createElement("i");r.setAttribute("class","fa fa-trash-o"),r.classList.add("delete-icon"),r.setAttribute("id",""+t.id),s.append(n),n.append(c,r)})),((e,c)=>{document.querySelectorAll(".delete-icon").forEach((r=>{r.addEventListener("click",(o=>{(()=>{const e=document.querySelector(".main"),t=document.createElement("div");t.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","form-container"),n.classList.add("delete-form");const c=document.createElement("p");c.innerText="Are you sure you want to delete this?";const r=document.createElement("div");r.setAttribute("class","buttons-container");const o=document.createElement("button");o.innerText="Delete",o.setAttribute("class","form-button"),o.setAttribute("id","confirm");const s=document.createElement("button");s.innerText="Cancel",s.setAttribute("class","form-button"),s.setAttribute("id","cancel"),r.append(o,s),n.append(c,r),t.append(n),e.append(t)})(),((e,c,r)=>{const o=document.getElementById("cancel"),s=document.getElementById("confirm");o.addEventListener("click",(e=>{t()})),s.addEventListener("click",(o=>{c.forEach((o=>{if(e.getAttribute("id")===o.id){let e=c.indexOf(o);c.splice(e,1),t(),n(r,c),location.reload()}}))}))})(r,e,c)}))}))})(c,r)},r="project.list";let o=JSON.parse(localStorage.getItem(r))||[],s=localStorage.getItem("project.selectedProjectId");c(o,r,s),((e,t,n)=>{document.querySelector(".project-list").addEventListener("click",(n=>{"li"===n.target.tagName.toLowerCase()&&(e=n.target.getAttribute("id"),c(t,"project.list",e))}))})(s,o),((e,r)=>{document.querySelector(".create-project").addEventListener("click",(r=>{(()=>{const e=document.querySelector(".main"),t=document.createElement("div");t.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","form-container"),t.append(n);const c=document.createElement("form");c.setAttribute("class","project-form");const r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("id","project-name"),r.setAttribute("name","project-name"),r.setAttribute("placeholder","Enter Here");const o=document.createElement("label");o.setAttribute("for","project-name"),o.innerText="Enter Project Name:";const s=document.createElement("button");s.setAttribute("class","form-button"),s.setAttribute("id","project-submit"),s.innerText="Create",n.append(c),c.append(o,r,s),e.append(t)})(),((e,r)=>{document.querySelector("#project-submit").addEventListener("click",(o=>{o.preventDefault();var s=document.getElementById("project-name").value;if(null===s||""===s)return;const a=(e=>({id:Date.now().toString(),name:e,tasks:[]}))(s);e.push(a),t(),n(r,e),c(e,r)}))})(e,"project.list")}))})(o)})();