(()=>{"use strict";const e=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},t=()=>{document.querySelector(".form-bg").remove()},n=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},r=(r,c,o)=>{const i=document.querySelector(".project-list");e(i),r.forEach((t=>{const n=document.createElement("div");n.setAttribute("class","project-name-container");const r=document.createElement("li");r.setAttribute("class","project-name"),r.setAttribute("id",""+t.id),r.innerText=t.name,t.id===o&&(r.classList.add("active-project"),(t=>{document.querySelector(".project-title").innerText=""+t.name;const n=document.querySelector(".to-dos");e(n),(e=>{const t=document.createElement("i");t.setAttribute("class","fa fa-plus-circle");const n=document.createElement("div");n.setAttribute("class","create-to-do");const r=document.createElement("p");r.innerText="Add an item",n.append(t,r),e.append(n),n.addEventListener("click",(e=>{(()=>{const e=document.querySelector(".main"),t=document.createElement("div");t.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","form-container"),t.append(n);const r=document.createElement("form");r.setAttribute("class","to-do-form"),r.setAttribute("id","to-do-form");const c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("id","to-do-name"),c.setAttribute("name","to-do-name"),c.setAttribute("placeholder","Enter Here");const o=document.createElement("label");o.setAttribute("for","to-do-name"),o.innerText="What do you need to do?";const i=document.createElement("select");i.setAttribute("id","priority"),i.setAttribute("name","priority");const s=document.createElement("option");s.setAttribute("value","low"),s.innerText="Low";const a=document.createElement("option");a.setAttribute("value","med"),a.innerText="Medium";const d=document.createElement("option");d.setAttribute("value","high"),d.innerText="High",i.append(s,a,d);const m=document.createElement("label");m.setAttribute("for","priority"),m.innerText="Set a priority for this item:";const l=document.createElement("textarea");l.setAttribute("form","to-do-form"),l.setAttribute("name","description"),l.setAttribute("id","description"),l.setAttribute("placeholder","Enter a description..."),n.append(r),r.append(o,c,m,i,l),e.append(t)})()}))})(n)})(t));const c=document.createElement("i");c.setAttribute("class","fa fa-trash-o"),c.classList.add("delete-icon"),c.setAttribute("id",""+t.id),i.append(n),n.append(r,c)})),((e,r)=>{document.querySelectorAll(".delete-icon").forEach((c=>{c.addEventListener("click",(o=>{(()=>{const e=document.querySelector(".main"),t=document.createElement("div");t.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","form-container"),n.classList.add("delete-form");const r=document.createElement("p");r.innerText="Are you sure you want to delete this?";const c=document.createElement("div");c.setAttribute("class","buttons-container");const o=document.createElement("button");o.innerText="Delete",o.setAttribute("class","form-button"),o.setAttribute("id","confirm");const i=document.createElement("button");i.innerText="Cancel",i.setAttribute("class","form-button"),i.setAttribute("id","cancel"),c.append(o,i),n.append(r,c),t.append(n),e.append(t)})(),((e,r,c)=>{const o=document.getElementById("cancel"),i=document.getElementById("confirm");o.addEventListener("click",(e=>{t()})),i.addEventListener("click",(o=>{r.forEach((o=>{if(e.getAttribute("id")===o.id){let e=r.indexOf(o);r.splice(e,1),t(),n(c,r),location.reload()}}))}))})(c,e,r)}))}))})(r,c)},c="project.list";let o=JSON.parse(localStorage.getItem(c))||[],i=localStorage.getItem("project.selectedProjectId");r(o,c,i),((e,t,n)=>{document.querySelector(".project-list").addEventListener("click",(n=>{"li"===n.target.tagName.toLowerCase()&&(e=n.target.getAttribute("id"),r(t,"project.list",e))}))})(i,o),((e,c)=>{document.querySelector(".create-project").addEventListener("click",(c=>{(()=>{const e=document.querySelector(".main"),t=document.createElement("div");t.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","form-container"),t.append(n);const r=document.createElement("form");r.setAttribute("class","project-form");const c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("id","project-name"),c.setAttribute("name","project-name"),c.setAttribute("placeholder","Enter Here");const o=document.createElement("label");o.setAttribute("for","project-name"),o.innerText="Enter Project Name:";const i=document.createElement("button");i.setAttribute("class","form-button"),i.setAttribute("id","project-submit"),i.innerText="Create",n.append(r),r.append(o,c,i),e.append(t)})(),((e,c)=>{document.querySelector("#project-submit").addEventListener("click",(o=>{o.preventDefault();var i=document.getElementById("project-name").value;if(null===i||""===i)return;const s=(e=>({id:Date.now().toString(),name:e,tasks:[]}))(i);e.push(s),t(),n(c,e),r(e,c)}))})(e,"project.list")}))})(o)})();