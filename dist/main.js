(()=>{"use strict";const t=t=>{for(;t.firstChild;)t.removeChild(t.firstChild)},e=()=>{document.querySelector(".form-bg").remove()},n=t=>{localStorage.setItem("project.list",JSON.stringify(t))},o=(t,o,c)=>{const r=document.createElement("i");r.setAttribute("class","fa fa-plus-circle");const s=document.createElement("div");s.setAttribute("class","create-to-do");const a=document.createElement("p");a.innerText="Add an item",s.append(r,a),t.append(s),s.addEventListener("click",(t=>{(()=>{const t=document.querySelector(".main"),e=document.createElement("div");e.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","to-do-form-container"),e.append(n);const o=document.createElement("form");o.setAttribute("class","to-do-form"),o.setAttribute("id","to-do-form");const c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("id","to-do-name"),c.setAttribute("name","to-do-name"),c.setAttribute("placeholder","Enter Here");const r=document.createElement("label");r.setAttribute("for","to-do-name"),r.innerText="What do you need to do?";const i=document.createElement("select");i.setAttribute("id","priority"),i.setAttribute("name","priority");const s=document.createElement("option");s.setAttribute("value","low"),s.innerText="Low";const a=document.createElement("option");a.setAttribute("value","med"),a.innerText="Medium";const d=document.createElement("option");d.setAttribute("value","high"),d.innerText="High",i.append(s,a,d);const u=document.createElement("label");u.setAttribute("for","priority"),u.innerText="Set a priority:";const l=document.createElement("input");l.setAttribute("type","date"),l.setAttribute("id","date"),l.setAttribute("name","date");const m=document.createElement("label");m.setAttribute("for","date"),m.innerText="Due Date:";const p=document.createElement("textarea");p.setAttribute("form","to-do-form"),p.setAttribute("name","description"),p.setAttribute("id","description"),p.setAttribute("placeholder","Enter a description...");const b=document.createElement("button");b.setAttribute("class","form-button"),b.setAttribute("id","create-to-do"),b.innerText="Create";const A=document.createElement("button");A.setAttribute("class","form-button"),A.setAttribute("id","cancel"),A.innerText="Cancel";const E=document.createElement("div");E.setAttribute("class","buttons-container"),E.setAttribute("class","to-do-buttons"),E.append(b,A),n.append(o),o.append(r,c,u,i,m,l,p,E),t.append(e)})(),((t,o)=>{const c=document.getElementById("cancel"),r=document.getElementById("create-to-do");c.addEventListener("click",(t=>{e()})),r.addEventListener("click",(c=>{c.preventDefault();var r=document.getElementById("to-do-name").value;if(null===r||""===r)return;const s=((t,e,n,o)=>({id:Date.now().toString(),name:t,priority:e,dueDate:n,desc:o,complete:!1}))(r,document.getElementById("priority").value,document.getElementById("date").value,document.getElementById("description").value);t.tasks.push(s),e(),n(o),i(t,o)}))})(o,c)}))},c=(t,e)=>{t.parentNode.childNodes.forEach((t=>{t.textContent===e.name&&!0===e.complete?t.classList.add("name-complete"):t.classList.remove("name-complete"),1==t.classList.contains(e.priority)&&!0===e.complete?t.classList.add("priority-complete"):t.classList.remove("priority-complete")}))},r=(t,o)=>{const r=t.tasks,i=document.querySelector(".to-dos"),s=document.createElement("ul");s.setAttribute("class","to-do-list-container"),i.append(s),r.forEach((t=>{const e=document.createElement("li");e.setAttribute("class","to-do-item");const n=document.createElement("div");n.setAttribute("class","checkbox"),n.setAttribute("id",""+t.id);const o=document.createElement("p");o.setAttribute("class","to-do-name"),o.setAttribute("id",""+t.id),o.innerText=""+t.name;const c=document.createElement("div");c.setAttribute("class","priority"),c.classList.add(""+t.priority),e.append(n,o,c),s.append(e)})),(t=>{t.forEach((t=>{if(!0===t.complete){const e=document.getElementById(""+t.id);e.classList.add("complete"),c(e,t)}}))})(r),((t,e)=>{document.querySelectorAll(".checkbox").forEach((o=>{o.addEventListener("click",(r=>{t.forEach((t=>{t.id===o.getAttribute("id")&&(t.complete=!t.complete,!0===t.complete?o.classList.add("complete"):o.classList.remove("complete"),c(o,t),n(e))}))}))}))})(r,o),((t,o)=>{document.querySelectorAll(".to-do-name").forEach((c=>{c.addEventListener("click",(r=>{t.forEach((r=>{r.id===c.getAttribute("id")&&((t=>{const e=document.querySelector(".main"),n=document.createElement("div");n.setAttribute("class","form-bg");const o=document.createElement("div");o.setAttribute("class","to-do-form-container"),n.append(o);const c=document.createElement("form");c.setAttribute("class","to-do-form"),c.setAttribute("id","to-do-form");const r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("id","to-do-name"),r.setAttribute("name","to-do-name"),r.setAttribute("placeholder","Enter Here"),r.value=t.name;const i=document.createElement("label");i.setAttribute("for","to-do-name"),i.innerText="What do you need to do?";const s=document.createElement("select");s.setAttribute("id","priority"),s.setAttribute("name","priority"),s.value=t.priority;const a=document.createElement("option");a.setAttribute("value","low"),a.innerText="Low";const d=document.createElement("option");d.setAttribute("value","med"),d.innerText="Medium";const u=document.createElement("option");u.setAttribute("value","high"),u.innerText="High",s.append(a,d,u);const l=document.createElement("label");l.setAttribute("for","priority"),l.innerText="Set a priority:";const m=document.createElement("input");m.setAttribute("type","date"),m.setAttribute("id","date"),m.setAttribute("name","date"),m.value=t.dueDate;const p=document.createElement("label");p.setAttribute("for","date"),p.innerText="Due Date:";const b=document.createElement("textarea");b.setAttribute("form","to-do-form"),b.setAttribute("name","description"),b.setAttribute("id","description"),b.setAttribute("placeholder","Enter a description..."),b.value=t.desc;const A=document.createElement("button");A.setAttribute("class","form-button"),A.setAttribute("id","update-to-do"),A.innerText="Update";const E=document.createElement("button");E.setAttribute("class","form-button"),E.setAttribute("id","delete"),E.innerText="Delete";const f=document.createElement("div");f.setAttribute("class","buttons-container"),f.setAttribute("class","to-do-buttons"),f.append(A,E),o.append(c),c.append(i,r,l,s,p,m,b,f),e.append(n),console.log(t)})(r),((t,o,c)=>{document.getElementById("delete").addEventListener("click",(r=>{o.forEach((r=>{if(r.id===t.id){let t=o.indexOf(r);o.splice(t,1),e(),n(c),location.reload()}}))}))})(r,t,o))}))}))}))})(r,o)},i=(e,n)=>{document.querySelector(".project-title").innerText=""+e.name;const c=document.querySelector(".to-dos");t(c),o(c,e,n),r(e,n)},s=(o,c)=>{const r=document.querySelector(".project-list");var s;t(r),o.forEach((t=>{const e=document.createElement("div");e.setAttribute("class","project-name-container");const n=document.createElement("li");n.setAttribute("class","project-name"),n.setAttribute("id",""+t.id),n.innerText=t.name,t.id===c&&(n.classList.add("active-project"),i(t,o));const s=document.createElement("i");s.setAttribute("class","fa fa-trash-o"),s.classList.add("delete-icon"),s.setAttribute("id",""+t.id),r.append(e),e.append(n,s)})),s=o,document.querySelectorAll(".delete-icon").forEach((t=>{t.addEventListener("click",(o=>{(()=>{const t=document.querySelector(".main"),e=document.createElement("div");e.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","form-container"),n.classList.add("delete-form");const o=document.createElement("p");o.innerText="Are you sure you want to delete this?";const c=document.createElement("div");c.setAttribute("class","buttons-container");const r=document.createElement("button");r.innerText="Delete",r.setAttribute("class","form-button"),r.setAttribute("id","confirm");const i=document.createElement("button");i.innerText="Cancel",i.setAttribute("class","form-button"),i.setAttribute("id","cancel"),c.append(r,i),n.append(o,c),e.append(n),t.append(e)})(),((t,o)=>{const c=document.getElementById("cancel"),r=document.getElementById("confirm");c.addEventListener("click",(t=>{e()})),r.addEventListener("click",(c=>{o.forEach((c=>{if(t.getAttribute("id")===c.id){let t=o.indexOf(c);o.splice(t,1),e(),n(o),location.reload()}}))}))})(t,s)}))}))};let a=JSON.parse(localStorage.getItem("project.list"))||[];s(a,""),((t,e)=>{document.querySelector(".project-list").addEventListener("click",(n=>{"li"===n.target.tagName.toLowerCase()&&(t=n.target.getAttribute("id"),s(e,t))}))})("",a),(t=>{document.querySelector(".create-project").addEventListener("click",(o=>{(()=>{const t=document.querySelector(".main"),e=document.createElement("div");e.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","form-container"),e.append(n);const o=document.createElement("form");o.setAttribute("class","project-form");const c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("id","project-name"),c.setAttribute("name","project-name"),c.setAttribute("placeholder","Enter Here");const r=document.createElement("label");r.setAttribute("for","project-name"),r.innerText="Enter Project Name:";const i=document.createElement("button");i.setAttribute("class","form-button"),i.setAttribute("id","project-submit"),i.innerText="Create",n.append(o),o.append(r,c,i),t.append(e)})(),(t=>{document.querySelector("#project-submit").addEventListener("click",(o=>{o.preventDefault();var c=document.getElementById("project-name").value;if(null===c||""===c)return;const r=(t=>({id:Date.now().toString(),name:t,tasks:[]}))(c);t.push(r),e(),n(t),s(t)}))})(t)}))})(a)})();