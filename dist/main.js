(()=>{"use strict";const e=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},t=()=>{document.querySelector(".form-bg").remove()},n=e=>{localStorage.setItem("project.list",JSON.stringify(e))},c=(e,c,o)=>{const s=document.createElement("i");s.setAttribute("class","fa fa-plus-circle");const i=document.createElement("div");i.setAttribute("class","create-to-do");const a=document.createElement("p");a.innerText="Add an item",i.append(s,a),e.append(i),i.addEventListener("click",(e=>{(()=>{const e=document.querySelector(".main"),t=document.createElement("div");t.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","to-do-form-container"),t.append(n);const c=document.createElement("form");c.setAttribute("class","to-do-form"),c.setAttribute("id","to-do-form");const o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("id","to-do-name"),o.setAttribute("name","to-do-name"),o.setAttribute("placeholder","Enter Here");const r=document.createElement("label");r.setAttribute("for","to-do-name"),r.innerText="What do you need to do?";const s=document.createElement("select");s.setAttribute("id","priority"),s.setAttribute("name","priority");const i=document.createElement("option");i.setAttribute("value","low"),i.innerText="Low";const a=document.createElement("option");a.setAttribute("value","med"),a.innerText="Medium";const d=document.createElement("option");d.setAttribute("value","high"),d.innerText="High",s.append(i,a,d);const l=document.createElement("label");l.setAttribute("for","priority"),l.innerText="Set a priority:";const m=document.createElement("input");m.setAttribute("type","date"),m.setAttribute("id","date"),m.setAttribute("name","date");const u=document.createElement("label");u.setAttribute("for","date"),u.innerText="Due Date:";const p=document.createElement("textarea");p.setAttribute("form","to-do-form"),p.setAttribute("name","description"),p.setAttribute("id","description"),p.setAttribute("placeholder","Enter a description...");const b=document.createElement("button");b.setAttribute("class","form-button"),b.setAttribute("id","create-to-do"),b.innerText="Create";const E=document.createElement("button");E.setAttribute("class","form-button"),E.setAttribute("id","cancel"),E.innerText="Cancel";const A=document.createElement("div");A.setAttribute("class","buttons-container"),A.setAttribute("class","to-do-buttons"),A.append(b,E),n.append(c),c.append(r,o,l,s,u,m,p,A),e.append(t)})(),((e,c)=>{const o=document.getElementById("cancel"),s=document.getElementById("create-to-do");o.addEventListener("click",(e=>{t()})),s.addEventListener("click",(o=>{o.preventDefault();var s=document.getElementById("to-do-name").value;if(null===s||""===s)return;const i=((e,t,n,c)=>({id:Date.now().toString(),name:e,priority:t,dueDate:n,desc:c,complete:!1}))(s,document.getElementById("priority").value,document.getElementById("date").value,document.getElementById("description").value);e.tasks.push(i),t(),n(c),r(e,c)}))})(c,o)}))},o=(e,t)=>{const n=e.parentNode.childNodes;n.forEach((e=>{e.textContent===t.name&&!0===t.complete?e.classList.add("name-complete"):e.classList.remove("name-complete"),1==e.classList.contains(t.priority)&&!0===t.complete?e.classList.add("priority-complete"):e.classList.remove("priority-complete")})),console.log(n)},r=(t,r)=>{document.querySelector(".project-title").innerText=""+t.name;const s=document.querySelector(".to-dos");e(s),c(s,t,r),((e,t)=>{const c=e.tasks,r=document.querySelector(".to-dos"),s=document.createElement("ul");s.setAttribute("class","to-do-list-container"),r.append(s),c.forEach((e=>{const t=document.createElement("li");t.setAttribute("class","to-do-item");const n=document.createElement("div");n.setAttribute("class","checkbox"),n.setAttribute("id",""+e.id);const c=document.createElement("p");c.setAttribute("class","to-do-name"),c.innerText=""+e.name;const o=document.createElement("div");o.setAttribute("class","priority"),o.classList.add(""+e.priority),t.append(n,c,o),s.append(t)})),(e=>{e.forEach((e=>{if(!0===e.complete){const t=document.getElementById(""+e.id);t.classList.add("complete"),o(t,e)}}))})(c),((e,t)=>{document.querySelectorAll(".checkbox").forEach((c=>{c.addEventListener("click",(r=>{e.forEach((e=>{e.id===c.getAttribute("id")&&(e.complete=!e.complete,!0===e.complete?c.classList.add("complete"):c.classList.remove("complete"),o(c,e),n(t))}))}))}))})(c,t)})(t,r)},s=(c,o)=>{const s=document.querySelector(".project-list");var i;e(s),c.forEach((e=>{const t=document.createElement("div");t.setAttribute("class","project-name-container");const n=document.createElement("li");n.setAttribute("class","project-name"),n.setAttribute("id",""+e.id),n.innerText=e.name,e.id===o&&(n.classList.add("active-project"),r(e,c));const i=document.createElement("i");i.setAttribute("class","fa fa-trash-o"),i.classList.add("delete-icon"),i.setAttribute("id",""+e.id),s.append(t),t.append(n,i)})),i=c,document.querySelectorAll(".delete-icon").forEach((e=>{e.addEventListener("click",(c=>{(()=>{const e=document.querySelector(".main"),t=document.createElement("div");t.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","form-container"),n.classList.add("delete-form");const c=document.createElement("p");c.innerText="Are you sure you want to delete this?";const o=document.createElement("div");o.setAttribute("class","buttons-container");const r=document.createElement("button");r.innerText="Delete",r.setAttribute("class","form-button"),r.setAttribute("id","confirm");const s=document.createElement("button");s.innerText="Cancel",s.setAttribute("class","form-button"),s.setAttribute("id","cancel"),o.append(r,s),n.append(c,o),t.append(n),e.append(t)})(),((e,c)=>{const o=document.getElementById("cancel"),r=document.getElementById("confirm");o.addEventListener("click",(e=>{t()})),r.addEventListener("click",(o=>{c.forEach((o=>{if(e.getAttribute("id")===o.id){let e=c.indexOf(o);c.splice(e,1),t(),n(c),location.reload()}}))}))})(e,i)}))}))};let i=JSON.parse(localStorage.getItem("project.list"))||[];s(i,""),((e,t)=>{document.querySelector(".project-list").addEventListener("click",(n=>{"li"===n.target.tagName.toLowerCase()&&(e=n.target.getAttribute("id"),s(t,e))}))})("",i),(e=>{document.querySelector(".create-project").addEventListener("click",(c=>{(()=>{const e=document.querySelector(".main"),t=document.createElement("div");t.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","form-container"),t.append(n);const c=document.createElement("form");c.setAttribute("class","project-form");const o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("id","project-name"),o.setAttribute("name","project-name"),o.setAttribute("placeholder","Enter Here");const r=document.createElement("label");r.setAttribute("for","project-name"),r.innerText="Enter Project Name:";const s=document.createElement("button");s.setAttribute("class","form-button"),s.setAttribute("id","project-submit"),s.innerText="Create",n.append(c),c.append(r,o,s),e.append(t)})(),(e=>{document.querySelector("#project-submit").addEventListener("click",(c=>{c.preventDefault();var o=document.getElementById("project-name").value;if(null===o||""===o)return;const r=(e=>({id:Date.now().toString(),name:e,tasks:[]}))(o);e.push(r),t(),n(e),s(e)}))})(e)}))})(i)})();