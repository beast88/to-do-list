(()=>{"use strict";const t=t=>{for(;t.firstChild;)t.removeChild(t.firstChild)},e=()=>{document.querySelector(".form-bg").remove()},n=(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},r=(r,o,c)=>{const i=document.querySelector(".project-list");t(i),r.forEach((e=>{const n=document.createElement("div");n.setAttribute("class","project-name-container");const r=document.createElement("li");r.setAttribute("class","project-name"),r.setAttribute("id",""+e.id),r.innerText=e.name,e.id===c&&(r.classList.add("active-project"),(e=>{document.querySelector(".project-title").innerText=""+e.name;const n=document.querySelector(".to-dos");t(n),(t=>{const e=document.createElement("i");e.setAttribute("class","fa fa-plus-circle");const n=document.createElement("div");n.setAttribute("class","create-to-do");const r=document.createElement("p");r.innerText="Add an item",n.append(e,r),t.append(n),n.addEventListener("click",(t=>{(()=>{const t=document.querySelector(".main"),e=document.createElement("div");e.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","to-do-form-container"),e.append(n);const r=document.createElement("form");r.setAttribute("class","to-do-form"),r.setAttribute("id","to-do-form");const o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("id","to-do-name"),o.setAttribute("name","to-do-name"),o.setAttribute("placeholder","Enter Here");const c=document.createElement("label");c.setAttribute("for","to-do-name"),c.innerText="What do you need to do?";const i=document.createElement("select");i.setAttribute("id","priority"),i.setAttribute("name","priority");const s=document.createElement("option");s.setAttribute("value","low"),s.innerText="Low";const a=document.createElement("option");a.setAttribute("value","med"),a.innerText="Medium";const d=document.createElement("option");d.setAttribute("value","high"),d.innerText="High",i.append(s,a,d);const u=document.createElement("label");u.setAttribute("for","priority"),u.innerText="Set a priority:";const l=document.createElement("input");l.setAttribute("type","date"),l.setAttribute("id","date"),l.setAttribute("name","date");const m=document.createElement("label");m.setAttribute("for","date"),m.innerText="Due Date:";const p=document.createElement("textarea");p.setAttribute("form","to-do-form"),p.setAttribute("name","description"),p.setAttribute("id","description"),p.setAttribute("placeholder","Enter a description...");const b=document.createElement("button");b.setAttribute("class","form-button"),b.setAttribute("id","create-to-do"),b.innerText="Create";const A=document.createElement("button");A.setAttribute("class","form-button"),A.setAttribute("id","cancel"),A.innerText="Cancel";const E=document.createElement("div");E.setAttribute("class","buttons-container"),E.setAttribute("class","to-do-buttons"),E.append(b,A),n.append(r),r.append(c,o,u,i,m,l,p,E),t.append(e)})()}))})(n)})(e));const o=document.createElement("i");o.setAttribute("class","fa fa-trash-o"),o.classList.add("delete-icon"),o.setAttribute("id",""+e.id),i.append(n),n.append(r,o)})),((t,r)=>{document.querySelectorAll(".delete-icon").forEach((o=>{o.addEventListener("click",(c=>{(()=>{const t=document.querySelector(".main"),e=document.createElement("div");e.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","form-container"),n.classList.add("delete-form");const r=document.createElement("p");r.innerText="Are you sure you want to delete this?";const o=document.createElement("div");o.setAttribute("class","buttons-container");const c=document.createElement("button");c.innerText="Delete",c.setAttribute("class","form-button"),c.setAttribute("id","confirm");const i=document.createElement("button");i.innerText="Cancel",i.setAttribute("class","form-button"),i.setAttribute("id","cancel"),o.append(c,i),n.append(r,o),e.append(n),t.append(e)})(),((t,r,o)=>{const c=document.getElementById("cancel"),i=document.getElementById("confirm");c.addEventListener("click",(t=>{e()})),i.addEventListener("click",(c=>{r.forEach((c=>{if(t.getAttribute("id")===c.id){let t=r.indexOf(c);r.splice(t,1),e(),n(o,r),location.reload()}}))}))})(o,t,r)}))}))})(r,o)},o="project.list";let c=JSON.parse(localStorage.getItem(o))||[],i=localStorage.getItem("project.selectedProjectId");r(c,o,i),((t,e,n)=>{document.querySelector(".project-list").addEventListener("click",(n=>{"li"===n.target.tagName.toLowerCase()&&(t=n.target.getAttribute("id"),r(e,"project.list",t))}))})(i,c),((t,o)=>{document.querySelector(".create-project").addEventListener("click",(o=>{(()=>{const t=document.querySelector(".main"),e=document.createElement("div");e.setAttribute("class","form-bg");const n=document.createElement("div");n.setAttribute("class","form-container"),e.append(n);const r=document.createElement("form");r.setAttribute("class","project-form");const o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("id","project-name"),o.setAttribute("name","project-name"),o.setAttribute("placeholder","Enter Here");const c=document.createElement("label");c.setAttribute("for","project-name"),c.innerText="Enter Project Name:";const i=document.createElement("button");i.setAttribute("class","form-button"),i.setAttribute("id","project-submit"),i.innerText="Create",n.append(r),r.append(c,o,i),t.append(e)})(),((t,o)=>{document.querySelector("#project-submit").addEventListener("click",(c=>{c.preventDefault();var i=document.getElementById("project-name").value;if(null===i||""===i)return;const s=(t=>({id:Date.now().toString(),name:t,tasks:[]}))(i);t.push(s),e(),n(o,t),r(t,o)}))})(t,"project.list")}))})(c)})();